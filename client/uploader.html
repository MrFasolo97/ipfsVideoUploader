<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="public/styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css">
        <link rel="shortcut icon" href="public/favicon.png">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/dark.css">
        <title>OneLoveIPFS Uploader</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://unpkg.com/axios@1.2.1/dist/axios.min.js"></script>
        <script src="https://unpkg.com/hivesigner@3.2.7/lib/hivesigner.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.0/socket.io.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/jitbit/HtmlSanitizer@master/HtmlSanitizer.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tus-js-client@latest/dist/tus.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script src="https://momentjs.com/downloads/moment.min.js"></script>
        <script src="lib/hive-tx.min.js"></script>
        <script src="lib/hivecryptpro.min.js"></script>
        <script src="client/hiveauth.js"></script>
        <script src="client/cdnfallback.js"></script>
        <script src="client/commons.js"></script>
        <script src="client/auth.js"></script>
        <script src="client/platforms.js"></script>
        <script src="client/languages.js"></script>
        <script src="client/beneficiaries.js"></script>
        <script src="client/olisc.js"></script>
        <script src="client/draft.js"></script>
        <script src="client/threespeak.js"></script>
        <script src="client/uploader.js"></script>
        <script src="client/editor.js"></script>
        <script src="client/yourfiles.js"></script>
        <script src="client/wcinfo.js"></script>
        <script src="client/getHelp.js"></script>
        <script src="client/usersettings.js"></script>
    </head>
    <body>
        <div class="header">
            <h1 id="siteTitle"><a href="/" class="title"><img id="logoBanner" src="public/logo.png" alt="oneloveipfs logo">  <div id="headTitleText">Uploader</div></a></h1>
            <div class="dropdown">
                <a id="platformBtn" class="headerBtn" onclick="topbarItmClicked('dropdownbox2')" onmouseenter="topbarItmHover('dropdownArrowPlatform')" onmouseleave="topbarItmLeave('dropdownArrowPlatform')">
                    <img class="platformLogo" id="platformLogoLoading" src="public/thinking.svg" style="display: inline;">
                    <p class="platformLogo" id="platformLogoMult">2P</p>
                    <img class="platformLogo" id="platformLogo3Speak" src="public/3speak.svg">
                    <img class="platformLogo" id="platformLogoDTube" src="public/dtube.png">
                    <i id="dropdownArrowPlatform" class="dropdownArrow"></i>
                </a>
                <div id="dropdownbox2" class="dropdown-content">
                    <a id="pfSelect3Speak" onclick="pfSelect('3Speak')">3Speak</a>
                    <a id="pfSelectDTube" onclick="pfSelect('DTube')">DTube</a>
                </div>
                <a id="modeBtn" class="headerBtn" onclick="topbarItmClicked('dropdownbox')" onmouseenter="topbarItmHover('dropdownArrow')" onmouseleave="topbarItmLeave('dropdownArrow')"><p id="headerMenu">Menu <i id="dropdownArrow" class="dropdownArrow"></i></p></a>
                <div id="dropdownbox" class="dropdown-content">
                    <a id="newUploadModeBtn">New Upload</a>
                    <a id="snapSwapModeBtn">Metadata Editor</a>
                    <a id="yourFilesModeBtn">Your Files</a>
                    <a id="subDetModeBtn">Account Details</a>
                    <a id="refillCrModeBtn">Refill Credits</a>
                    <a id="getHelpModeBtn">Get Help</a>
                    <a id="settingsModeBtn">User Settings</a>
                    <a id="oliscModeBtn">Scheduled Publishes</a>
                    <a id="draftModeBtn">Drafts</a>
                    <a id="spkModeBtn" style="display: none;">3Speak Uploads</a>
                </div>
            </div>
        </div>
        <div class="uploadcontent">
        <div class="warningbox" id="refillnotify">Your hosting credits are running low on balance. Please refill as soon as possible to prevent your account from being disabled for uploading.</div>
        <div class="warningbox" id="needsrefillnotify"></div>
        <div class="warningbox" id="tusnotsupported">Tus resumable upload protocol is not supported in your browser.</div>
        <div id="disabledPage">
            <h3 id="disabledText"></h3>
            <img id="disabledImg" alt="will be right back" style="width: 100%;">
        </div>
        <div class="uploadpage" id="uploadForm" style="display: block;">
            <div id="editingDraft" class="curvedbox">
                <h4 id="editingDraftMsg">Editing draft: Last saved:</h4>
                <a class="styledButton styledButtonSmall" onclick="leaveDraft()">Leave</a>
                <a class="styledButton styledButtonSmall" onclick="saveDraft(); leaveDraft()">Save & Leave</a>
            </div>
            <div id="tab">
                <a class="tabs" id="tabBasics" onclick="updateTab('basics')">Basics</a>
                <a class="tabs" id="tabSubtitles" onclick="updateTab('subtitles')">Subtitles</a>
                <a class="tabs" id="tabAdvanced" onclick="updateTab('advanced')">Advanced</a>
            </div>
            <div id="basics"> <!-- Basics tab -->
                <h3 class="fileUploadField">Upload a video (mp4 file accepted): <input type="file" accept="video/mp4,video/quicktime" name="VideoUpload" id="sourcevideo" onchange="sourceVideoSelect()"></h3>
                <h3 class="fileUploadField">Upload a thumbnail (4MB maximum): <input type="file" accept="image/jpeg,image/png,image/gif" name="SnapUpload" id="snapfile"></h3>
                <h3>Title: <input type="text" id="title" name="title" class="meta"></h3>
                <h3>Description: 
                <textarea id="description" name="description"></textarea><a style="font-size: 15px;" onclick="fillDescription()">Insert from template</a><a style="font-size: 15px; margin-left: 15px;" onclick="updateDisplayByIDs(['settings'],['uploadForm','thumbnailSwapper','yourFiles','wcinfo','refiller','getHelp','dropdownbox','settings'])">Edit template</a></h3>
                <h3><div id="tagLbl">Tags (seperated by space):</div><input type="text" id="tags" name="tags" class="meta"></h3>
                <h5 id="tagInfo1">The first tag (out of 10 tags) that you have chosen will be the first curated tag on your Avalon post.</h5>
                <div class="grapheneSettings"><label class="switch">
                    <input type="checkbox" name="powerup" id="powerup">
                    <span class="slider round"></span>
                </label><h3 class="poweruptext"> Power Up 100%</h3><br><br></div>
                <div id="avalonZone" class="curvedbox">
                    <h3 id="avalonvwlabel">Avalon vote weight: 1%</h3>
                    <div class="slidecontainer">
                        <input type="range" min="0.1" max="100" value="1" step="0.1" class="rangeslider" id="avalonvw">
                    </div>
                    <div class="warningbox" id="avalonhighvwalert">Using more than 30% of your Avalon voting power will drain your VP in your Avalon account significantly.</div>
                    <h3 id="dtcBurnSection">Promote with DTUBE burn: <input type="number" step="0.01" min="0" class="meta" id="dtcBurnInput"></h3>
                </div>
            </div>
            <div id="subtitles"> <!-- Subtitles tab -->
                <h3>Add subtitles to your video</h3>
                <h5>You may wish to create subtitles for your videos for multiple languages. To create your subtitles, use a subtitle creator tool and upload the subtitle file here.<br><br>Only WebVTT files are accepted as this is the only format DTube supports right now!</h5>
                <h4 style="margin-block-end: 0.25em;">Upload a new subtitle</h4>
                <div class="subtitleAdd">
                    <div class="subtitleAddCol">
                        <input list="languages" class="meta" id="newLanguageField" placeholder="Choose language">
                    </div>
                    <div class="subtitleAddCol">
                        <input type="file" id="subtitleUpload" style="display: none">
                        <a onclick="document.getElementById('subtitleUpload').click()" id="chooseSubBtn" class="styledButton styledButtonSmall">Choose subtitle file</a>
                    </div>
                    <div class="subtitleAddCol">
                        <a id="uploadSubBtn" class="styledButton styledButtonSmall">Upload subtitle</a>
                    </div>
                </div>
                <datalist id="languages"></datalist>
                <h4 style="margin-block-end: 0.5em; display: none;" id="subtitleHeading">Your subtitles</h4>
                <table class="subList" id="subList"></table>
            </div>
            <div id="advanced"> <!-- Advanced tab -->
                <br><div id="encoderSwitch" style="display: none;"><label class="switch">
                    <input type="checkbox" name="hlsencode" id="hlsencode" onchange="updateEncoderDisplay()">
                    <span class="slider round"></span>
                </label><h3 class="poweruptext" id="hlsencodetext"> Encode video to HLS format</h3></div>
                <div id="mp4encodedupload">
                    <br>
                    <h3 style="margin-block-start: 0.25em;">Upload user encoded videos</h3>
                    <h5>You may choose to upload a lower resolution version of your source video that you have selected in the "Basics" tab, so that your video will be playable in lower resolutions for viewers who have poor internet connection.<br><br>Do not choose the same video file you have selected in the "Basics" tab!</h5>
                    <h4>240p video: <input type="file" accept="video/mp4" name="Video240Upload" id="video240p"></h4><br>
                    <h4>480p video: <input type="file" accept="video/mp4" name="Video480Upload" id="video480p"></h4><br>
                    <h4>720p video: <input type="file" accept="video/mp4" name="Video720Upload" id="video720p"></h4><br>
                    <h4>1080p video: <input type="file" accept="video/mp4" name="Video1080Upload" id="video1080p"></h4><br>
                    <div id="skynetswitch" style="display: none;">
                        <label class="switch">
                            <input type="checkbox" name="skynetupload" id="skynetupload">
                            <span class="slider round"></span>
                        </label><h3 class="poweruptext"> Upload to Skynet (experimental)</h3>
                    </div>
                </div>
                <h3>Video duration (in seconds): 
                    <input type="number" min="0" id="videoduration" name="videoduration" class="meta">
                </h3>
                <div class="grapheneSettings">
                    <h3 id="customPermlinkField">Custom Permlink: 
                        <input type="text" id="customPermlink" name="customPermlink" class="meta">
                        <span class="tooltiptext tooltippm" id="customPermlink3Speak" style="display: none;">Custom permlinks are not supported for 3Speak uploads</span>
                    </h3>
                    <h3 style="margin-block-end: 0.25em;">Article Body: 
                    <textarea id="postBody" name="postBody"></textarea></h3>
                    <input type="file" accept="image/*" id="postImg" style="display: none">
                    <a onclick="document.getElementById('postImg').click()" id="postImgBtn" class="styledButton styledButtonSmall styledButtonFullWidth">Upload an image for article body</a>
                    <h5 style="margin-block-start: 0.5em;">Maximum file size for image: 4MB</h5>
                    <h3 style="margin-block-end: 0.5em;">Beneficiaries</h3>
                    <h5 style="margin-block-start: 0.25em;" id="beneficiariesDesc"></h5>
                    <input type="text" id="newBeneficiaryUser" name="newBeneficiaryUser" class="meta" placeholder="New beneficiary username">
                    <input type="number" id="newBeneficiaryPercent" name="newBeneficiaryPercent" class="meta" placeholder="%" min="0.01" max="98" step="0.01">
                    <select class="meta" id="newBeneficiaryNetwork">
                        <option>All</option>
                        <option>Hive</option>
                        <option>Steem</option>
                        <option>Blurt</option>
                    </select>
                    <a class="styledButton styledButtonSmall" id="appendBeneficiaryBtn">+</a><br><br>
                    <h3 id="beneficiaryHeadingHive">Hive beneficiaries</h3>
                    <table class="beneficiaryTableList" id="beneficiaryTableListHive"></table>
                    <h4 class="totalBeneficiariesLabel" id="totalBeneficiariesLabelHive">Total Hive beneficiaries: 0%<br></h4>
                    <h3 id="beneficiaryHeadingSteem">Steem beneficiaries</h3>
                    <table class="beneficiaryTableList" id="beneficiaryTableListSteem"></table>
                    <h4 class="totalBeneficiariesLabel" id="totalBeneficiariesLabelSteem">Total Steem beneficiaries: 0%<br></h4>
                    <h3 id="beneficiaryHeadingBlurt">Blurt beneficiaries</h3>
                    <table class="beneficiaryTableList" id="beneficiaryTableListBlurt"></table>
                    <h4 class="totalBeneficiariesLabel" id="totalBeneficiariesLabelBlurt">Total Blurt beneficiaries: 0%<br></h4>
                    <div class="hivemindCommunity" id="hiveCommunity">
                        <h3>Hive Community</h3>
                        <h5>Pick a Hivemind powered community on Hive to post your video to. The default is OneLoveIPFS (hive-134220).</h5>
                        <select class="meta communitySelect" id="hiveCommunitySelect"><option value="hive-134220">OneLoveIPFS (hive-134220)</option></select>
                    </div><br>
                    <div class="hivemindCommunity" id="steemCommunity">
                        <h3>Steem Community</h3>
                        <h5>Pick a Hivemind powered community on Steem to post your video to. The default is One Love Community (hive-134220).</h5>
                        <select class="meta communitySelect" id="steemCommunitySelect"><option value="hive-134220">One Love Community (hive-134220)</option></select>
                    </div>
                    <div class="hivemindCommunity" id="blurtCommunity">
                        <h3>Blurt Community</h3>
                        <h5>Pick a Nexus powered community on Blurt to post your video to. The default is OneLoveIPFS (blurt-134220).</h5>
                        <select class="meta communitySelect" id="blurtCommunitySelect"><option value="blurt-134220">OneLoveIPFS (blurt-134220)</option></select>
                    </div>
                </div>
                <div id="schedulepost">
                    <label class="switch">
                        <input type="checkbox" name="schedulepostswitch" id="schedulepostswitch" onchange="document.getElementById('schedulepostswitch').checked ? updateDisplayByIDs(['schedulepostdetails'],[]) : updateDisplayByIDs([],['schedulepostdetails'])">
                        <span class="slider round"></span>
                    </label><h3 class="poweruptext" id="scheduleposttext"> Schedule Publish</h3>
                    <div id="schedulepostdetails">
                        <label for="scheduleposttime">Select date and time: </label><input type="text" class="meta" placeholder="Pick a date and time" id="scheduleposttime" name="scheduleposttime" style="margin-block-start: 1em;">
                        <p style="font-size: smaller;">To ensure that your video gets published successfully on-time, please authorize your posting authority to us using the buttons in Menu > Get Help.</p>
                    </div>
                </div><br>
            </div>
            <div id="uploadActions">
                <input class="styledButton" type="submit" value="Upload!" id="submitbutton">
                <input class="styledButton styledButtonSmall" type="button" value="Save draft" id="draftBtn" style="width: 95px;" onclick="saveDraft()">
            </div><br>
            <h4 id="loggedInUser">Detecting login...</h4><br>
            <h4 id="platformStr">Loading platforms...</h4><br>
            <h4 id="scheduledStr">Publishing immediately</h4><br>
            <div class="progressBack" id="uploadProgressBack">
                <div class="progressFront" id="uploadProgressFront">Uploading... (0%)</div>
            </div>
            <div id="encodeProgress"></div>
            <div id="spkPopup" class="popup">
                <div class="popup-content" id="spkPopupContent">
                    <div class="popup-header">
                        <h2 id="spkPopupHeader">Important Notice</h2>
                    </div>
                    <div class="popup-body">
                        <div id="spknotice">
                            <p>Before proceeding with your 3Speak video upload, it is important to communicate a few things:</p>
                            <ol>
                                <li>Instead of using the tusd upload endpoint operated by OneLoveIPFS, we are required to use the official APIs operated by 3Speak core team.</li>
                                <li>An 11.5% fee will be levied on HIVE post rewards for all 3Speak video uploads. This fee is imposed by 3Speak team, OneLoveIPFS does not have control over it.</li>
                                <li>Due to the mandatory outsourcing of video storage and encoding, these files will only consume up to 50% of GBDays that would otherwise be consumed if the same file was pinned normally on our IPFS nodes. In an event of file unavailability on 3Speak's IPFS storage servers for longer than 24 hours, these files may consume the full GBDays amount.</li>
                                <li>OneLoveIPFS is not responsible for any issues arising from the use of 3Speak APIs, including but not limited to file uploads, quality of video encoding outputs, video playability or censorship (of any kind) on 3Speak.</li>
                                <li>Getting the resulting files pinned on our IPFS nodes may take longer than usual as we need to fetch them from 3Speak's IPFS nodes which are subject to availability.</li>
                            </ol>
                            <div><input type="checkbox" name="spkUploadAgreeNotice" id="spkUploadAgreeNotice" onchange="spkNoticeCheckboxChanged()"><span>I have read and understood the above notice.</span></div>
                            <div><input type="checkbox" name="spkUploadAgreeTerms" id="spkUploadAgreeTerms" onchange="spkNoticeCheckboxChanged()"><span>By authenticating to the 3Speak API, I have read and understood <a href="https://threespeakvideo.b-cdn.net/static/terms_of_service.pdf" target="_blank">3Speak's terms of service.</a></span></div>
                        </div>
                        <div id="spkauth" style="display: none;">
                            <p>We use necessary cookies to authenticate to your 3Speak video upload. By clicking "Authenticate", you consent to our use of third party cookies from 3speak.tv. You may find their Privacy Policy <a href="https://3speak.tv/intl/privacy" target="_blank">here</a>. Our Privacy Policy may also be found <a href="https://github.com/oneloveipfs/ipfsVideoUploader/blob/master/docs/Privacy.md" target="_blank">here</a>.</p>
                            <p>Note for HiveAuth users: You will need to manually decrypt the memo with your private posting key and enter the resulting access token in the next step as the HiveAuth protocol does not support memo cryptography operations.</p>
                        </div>
                        <div id="spkauthhas" style="display: none;">
                            <p>Decrypt the following message with your private posting key and enter it below:</p>
                            <p id="spkAuthHasEnc" style="word-break: break-all;">#soemthignsomething</p>
                            <input type="text" class="meta" id="spkauthhasresult" placeholder="Decrypted message (excluding #)">
                        </div>
                    </div>
                    <div class="popup-actions" id="spknotice-actions">
                        <input type="button" value="Cancel" onclick="dismissPopupAction('spkPopup')">
                        <input type="button" value="Continue" id="spkNoticeContinueBtn" onclick="spkNoticeContinue()" disabled>
                    </div>
                    <div class="popup-actions" id="spkauth-actions" style="display: none;">
                        <input type="button" value="Reject" onclick="dismissPopupAction('spkPopup')">
                        <input type="button" value="Authenticate" id="spkAuthenticateBtn" onclick="spkGetAccessToken(spkUpload)">
                    </div>
                    <div class="popup-actions" id="spkauthhas-actions" style="display: none;">
                        <input type="button" value="Back" onclick="updateDisplayByIDs(['spkauth'],['spkauthhas','spkauthhas-actions']); updateDisplayByIDs(['spkauth-actions'],[],'flex')">
                        <input type="button" value="Proceed" id="spkHasProceedBtn" onclick="spkRequestCookie(document.getElementById('spkauthhasresult').value, spkUpload)">
                    </div>
                </div>
            </div>
        </div>
        <div class="uploadpage" id="thumbnailSwapper">
            <div class="warningbox" id="thumbnailSwapNoAvalon">As you are not logged in with Avalon, the post on Avalon will not be updated. Therefore, only the Hive post will be updated with the new thumbnail.</div>
            <h2>Metadata Edit</h2>
            <div id="metaEditIntro">
                <h4>Edit your video title, description, tags and thumbnails with our editing tool. Useful for cross-posted videos as the editing tool of one platform may break the video metadata of the same video posted to other platforms.</h4><br>
                <h4>NOTE: This editing tool is optimised for videos posted with OneLoveIPFS. If your video was posted through another uploader, it may be better to use the editing features on their respective frontends.</h4><br>
                <h4>This will edit the JSON metadata of the posts and will not edit the article body, which can be done on generic frontends that does not modify the JSON metadata.</h4><br>
                <input type="text" class="meta" placeholder="Paste URL here (supported: dtube links, 3speak app uri, hive/blurt frontends)" id="thumbnailSwapLink">
                <a class="styledButton styledButtonSmall styledButtonFullWidth" id="linkSubmitBtn" onclick="onEditLinkSubmit()">Submit Link</a>
            </div>
            <div id="linkResult" style="display: none;">
                <a onclick="updateDisplayByIDs(['metaEditIntro'],['linkResult'])"><< Back</a>
                <div id="metaEditThumbnail">
                    <div class="metaEditThumbItm metaEditThumb">
                        <img id="metaEditOldImg">
                        <a class="metaEditOverlay" onclick="chooseReplacementThumbnail()">
                            <p>Replace Thumbnail</p>
                            <input type="file" accept="image/*" id="metaEditImg" style="display: none" onchange="selectReplacementThumbnail()">
                        </a>
                    </div>
                    <div id="metaEditThumbNew" style="display: none;">
                        <div class="metaEditThumbItm" id="metaEditArrow"><div id="metaEditArrowInner">
                            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                                <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                            </svg></div>
                        </div>
                        <div class="metaEditThumbItm metaEditThumb" id="metaEditThumbNewImg"></div>
                    </div>
                </div>
                <h3>Title: <br><input type="text" id="editTitle" name="title" class="meta"></h3>
                <h3>Description: <br>
                <textarea id="editDescription" name="description"></textarea><a style="font-size: 15px;" onclick="fillDescription()">Insert from template</a><a style="font-size: 15px; margin-left: 15px;" onclick="updateDisplayByIDs(['settings'],['uploadForm','thumbnailSwapper','yourFiles','wcinfo','refiller','getHelp','dropdownbox','settings'])">Edit template</a></h3>
                <h3 id="editTagsField"><div>Tags (seperated by space):</div><input type="text" id="editTags" name="tags" class="meta"></h3>
                <h4 id="editPlatforms">Editing on</h4>
                <input class="styledButton" type="submit" value="Submit!" id="swapSubmitBtn" onclick="onEditSubmit()"><br>
            </div>
            <div id="metaEditSuccess" style="display: none;">
                <h4>Video metadata edited successfully.</h4>
                <a class="styledButton styledButtonSmall" type="button" id="metaEditBackBtn2" style="width: 150px;" onclick="updateDisplayByIDs(['metaEditIntro'],['metaEditSuccess'])">Edit another video</a>
            </div>
        </div>
        <div class="uploadpage" id="yourFiles">
            <h2>Your files</h2>
            <h4>Here you may find the list of files pinned on our service and its file sizes. Click on each hash to preview them.</h4><br>
            <h4>Filter by type: <select class="meta" onchange="handleTypeSelection(this)">
                <option>Source video</option>
                <option>240p video</option>
                <option>480p video</option>
                <option>720p video</option>
                <option>1080p video</option>
                <option>HLS video</option>
                <option>Thumbnails</option>
                <option>Sprites</option>
                <option>Subtitles</option>
                <option>Images</option>
            </select></h4><br>
            <h4 id="yourFilesTotalSize">Total Size: 0 KB</h4>
            <table style="width: 100%;">
                <thead><tr><td>Hash</td><td>File Size</td></tr></thead>
                <tbody id="hashesTbody"></tbody>
            </table>
        </div>
        <div class="uploadpage" id="wcinfo"><h3>Loading account data...</h3></div> <!-- User info page (e.g. rate, quota available etc.) -->
        <div class="uploadpage" id="refiller"> <!-- Hosting credits refill page -->
            <h2>Refill credits</h2>
            <input type="number" min="1" class="meta" placeholder="GBdays to refill" id="gbdaysInput">
            <h4 style="margin-block-end: 0.25em;">GBdays autofiller:</h4>
            <div id="gbdaysautobtns">
                <div class="grid-item" id="gbdaysauto14">
                    <a class="styledButton styledButtonSmall" onclick="document.getElementById('gbdaysInput').value = Math.ceil(accdetail.usage/1073741824*14)">14 days</a>
                </div>
                <div class="grid-item" id="gbdaysauto30">
                    <a class="styledButton styledButtonSmall" onclick="document.getElementById('gbdaysInput').value = Math.ceil(accdetail.usage/1073741824*30)">30 days</a>
                </div>
                <div class="grid-item" id="gbdaysauto60">
                    <a class="styledButton styledButtonSmall" onclick="document.getElementById('gbdaysInput').value = Math.ceil(accdetail.usage/1073741824*60)">60 days</a>
                </div>
                <div class="grid-item" id="gbdaysauto90">
                    <a class="styledButton styledButtonSmall" onclick="document.getElementById('gbdaysInput').value = Math.ceil(accdetail.usage/1073741824*90)">90 days</a>
                </div>
            </div>
            <h5 style="margin-block-start: 0.5em; margin-block-end: 0em;">Disclaimer: The calculated values does not take into account of future increased disk usage. 1 GBday allows you to store 1GB of data on our service for 24 hours.</h5>
            <h4>Payment method:
                <select class="meta" id="pymtMtd">
                    <option>Select One...</option>
                    <option>DTUBE</option>
                    <option>HIVE</option>
                    <option>HBD</option>
                    <option>BLURT</option>
                </select></h4>
            </h4>
            <input class="styledButton" type="submit" value="Refill" id="refillSubmitBtn"><br><br><hr>
            <h2>Refill history</h2>
            <h4>Amount view: <select class="meta" style="width: 70px;" onchange="handleAmtViewChange(this)">
                <option>USD</option>
                <option>Crypto</option>
            </select></h4>
            <table style="width: 100%;" id="refillHistoryTbl">
                <thead><tr><td id="refillHistoryHAmt">Amount (USD)</td><td>Credits</td><td>Date/Time</td></tr></thead>
                <tbody id="refillHistoryTbody"></tbody>
            </table>
            <div id="refillPopup" class="popup">
                <div class="popup-content" id="refillPopupContent">
                    <div class="popup-header">
                        <h2>Refill</h2>
                    </div>
                    <div class="popup-body">
                        <div id="refillpay">
                            <h4 id="dtcInstruction">Make a DTUBE transfer with the details below. DTUBE payments take approximately 42 seconds (14 blocks) to process.<br><br></h4>
                            <h4 id="gbdaysconfirm">Credits: 0 GBdays</h4>
                            <h4 id="quoteAmt">Amount: </h4>
                            <h4 id="xferMemo">Memo: </h4>
                            <div id="hiveRecPayment" style="margin-top: 15px;">
                                <label class="switch switchsmall">
                                    <input type="checkbox" name="hiveRecPaymentCheckbox" id="hiveRecPaymentCheckbox" onchange="document.getElementById('hiveRecPaymentCheckbox').checked ? updateDisplayByIDs(['hiveRecPaymentFields'],[]) : updateDisplayByIDs([],['hiveRecPaymentFields'])">
                                    <span class="slider slidersmall round"></span>
                                </label><h4 class="switchtextsmall" id="hiveRecPaymentCheckboxText"> Repeat refills</h4>
                                <div id="hiveRecPaymentFields"><br>
                                    <input type="number" placeholder="Recurrence (in hours, min 24)" id="hiveRecPaymentRecurrence" class="loginFields" min="24">
                                    <input type="number" placeholder="Frequency" id="hiveRecPaymentFrequency" class="loginFields" min="2">
                                </div>
                            </div><br>
                            <h6 id="nativeDisclaimer">Disclaimer: The amount quoted above may differ than the actual price in your selected coin. Due to price fluctuations, you may receive more or less GBdays after refilling your account. Alternatively, you may refill your account by sending any amount to @oneloveipfs with the memo shown above.</h6>
                        </div>
                        <div id="refillcb" style="display: none;">
                            <h4>Thank you for refilling. Your hosting credits balance should be updated in your account within a minute.<br><br>If you have any issues, please contact the OneLoveIPFS team on Discord.</h4>
                        </div>
                        <div id="refillcancel" style="display: none;">
                            <h4>Your order has been cancelled successfully.</h4>
                        </div>
                    </div>
                    <div class="popup-actions" id="pymtpay-actions">
                        <input type="button" id="HiveSignerBtn" target="_blank" rel="noreferrer" value="HiveSigner">
                        <input type="button" id="HiveKeychainBtn" value="Hive Keychain">
                        <input type="button" id="BlurtKeychainBtn" value="Blurt Keychain">
                        <input type="button" id="DTubeChannelBtn" target="_blank" rel="noreferrer" value="Pay on d.tube">
                    </div>
                </div>
            </div>
        </div>
        <div class="uploadpage" id="getHelp">
            <h2>Need help with OneLoveIPFS?</h2>
            <h4>Please contact techcoderx#7481 on Discord if you have any issues with uploading or posting your video to the blockchain. You may also join the OneLoveIPFS Discord server by clicking <a href="https://discord.gg/ZWj5NqaBeF" target="_blank">here</a>.</h4>
            <h3>Authorize posting authority</h3>
            <h4>To deliver the best uploading experience possible and/or to facilitate scheduled publishing, we may need you to delegate your ability to post so that we can post your video on your behalf (in case of issues or using Olisc). Click the buttons below to authorize. You may revoke the permissions at any time.</h4>
            <div class="authorizeBtn"><a class="styledButton" id="avalonAuthorizeBtn">Authorize Avalon</a></div><br>
            <div class="authorizeBtn"><a class="styledButton" id="hiveAuthorizeBtn">Authorize Hive</a></div><br>
            <div class="authorizeBtn"><a class="styledButton" id="blurtAuthorizeBtn">Authorize Blurt</a></div>
        </div>
        <div class="uploadpage" id="settings">
            <h2>User Settings</h2>
            <h3 style="margin-block-end: 0.25em;">Upload thread count (max 50): 
            <input type="number" id="settingsUplThreads" name="settingsUplThreads" class="meta" placeholder="Default: 10" min="1" max="40" step="1"></h3>
            <h5 style="margin-block-start: 0.25em;">Best if set in multiples of 4 Mbit/second upload bandwidth. Not supported on iOS.</h5>
            <h3>Description Template: 
            <textarea name="descTemplate" id="descTemplate"></textarea></h3>
            <h3>Hive API<select class="meta" id="hiveAPISelection"></select></h3>
            <h3>Avalon API<select class="meta" id="avalonAPISelection"></select></h3>
            <h3>Blurt API<select class="meta" id="blurtAPISelection"></select></h3>
            <h3>IPFS Gateway<select class="meta" id="ipfsGwSelection"></select></h3>
            <label class="switch">
                <input type="checkbox" name="darkmodeswitch" id="darkmodeswitch">
                <span class="slider round"></span>
            </label><h3 class="poweruptext"> Dark Mode</h3><br><br>
            <input type="button" class="styledButton" id="settingSaveBtn" value="Save" onclick="saveSettings()">
            <input type="button" class="styledButton" id="settingResetBtn" value="Reset" onclick="fillSettings()">
        </div>
        <div class="uploadpage" id="scheduledPublishes">
            <div id="scheduledList">
                <h2>Scheduled Publishes</h2>
                <h4>View operations that have been scheduled through our Olisc API.</h4><br>
                <h4>Filter by status: <select class="meta" style="width: 100px;" onchange="handleOliscFilterSelection(this)" id="oliscStatusSelection">
                    <option>Select...</option>
                    <option>Pending</option>
                    <option>Success</option>
                    <option>Errored</option>
                </select></h4>
                <table style="width: 100%;">
                    <thead><tr><td>ID</td><td>Network</td><td>Operation</td><td>View</td></tr></thead>
                    <tbody id="oliscTbody"></tbody>
                </table>
            </div>
            <div id="scheduledView" style="display: none;">
                <a onclick="updateDisplayByIDs(['scheduledList'],['scheduledView'])"><< Back</a>
                <h2>Scheduled Transaction</h2>
                <p id="oliscID"></p>
                <p id="oliscNetwork"></p>
                <p id="oliscScheduled"></p>
                <h3>Operation:</h3>
                <div id="oliscEditor" style="height: 500px;"></div><br>
                <input class="styledButton" type="submit" value="Delete" id="oliscDeleteBtn">
            </div>
        </div>
        <div class="uploadpage" id="draftList">
            <h2>Saved Drafts</h2>
            <h4 id="draftEmpty" style="display: none;"><i>There are currently no saved drafts.</i></h4>
            <table style="width: 100%;" id="draftTable">
                <thead><tr><td>Draft ID</td><td>Created</td><td>Last Saved</td><td></td><td></td></tr></thead>
                <tbody id="draftListTbody"></tbody>
            </table>
        </div>
        <div class="uploadpage" id="spkUploads">
            <h2>3Speak uploads</h2>
            <input type="button" class="styledButton styledButtonSmall" id="spkUploadListAuth" value="Authenticate with 3speak.tv" onclick="displayPopup('spkListPopup')">
            <input type="button" class="styledButton styledButtonSmall" id="spkUploadListRefresh" value="Refresh" onclick="spkRefreshListTable()" style="display: none;">
            <table style="width: 100%;" id="spkUploadListTable">
                <thead><tr><td>Permlink</td><td>Created</td><td>Status</td><td>Action</td></tr></thead>
                <tbody id="spkUploadListTbody"></tbody>
            </table>
            <div id="spkListPopup" class="popup">
                <div class="popup-content" id="spkListPopupContent">
                    <div class="popup-header">
                        <h2>Notice</h2>
                    </div>
                    <div class="popup-body">
                        <div id="spkListAuthIntro">
                            <p>We use necessary cookies to authenticate to your 3Speak.tv account. By clicking "Authenticate", you consent to our use of third party cookies from 3speak.tv. You may find their Privacy Policy <a href="https://3speak.tv/intl/privacy" target="_blank">here</a>. Our Privacy Policy may also be found <a href="https://github.com/oneloveipfs/ipfsVideoUploader/blob/master/docs/Privacy.md" target="_blank">here</a>.</p>
                            <p>Note for HiveAuth users: You will need to manually decrypt the memo with your private posting key and enter the resulting access token in the next step as the HiveAuth protocol does not support memo cryptography operations.</p>
                        </div>
                        <div id="spkListAuthHas" style="display: none;">
                            <p>Decrypt the following message with your private posting key and enter it below:</p>
                            <p id="spkListAuthHasEnc" style="word-break: break-all;">#soemthignsomething</p>
                            <input type="text" class="meta" id="spkListAuthHasResult2" placeholder="Decrypted message (excluding #)">
                        </div>
                    </div>
                    <div class="popup-actions" id="spkListAuthIntro-actions">
                        <input type="button" value="Reject" onclick="dismissPopupAction('spkListPopup')">
                        <input type="button" value="Authenticate" id="spkAuthenticateBtn" onclick="spkGetAccessToken(() => {})">
                    </div>
                    <div class="popup-actions" id="spkListAuthHas-actions" style="display: none;">
                        <input type="button" value="Back" onclick="updateDisplayByIDs(['spkListAuthIntro'],['spkListAuthHas','spkListAuthHas-actions']); updateDisplayByIDs(['spkListAuthIntro-actions'],[],'flex')">
                        <input type="button" value="Proceed" id="spkListAuthHasProceedBtn" onclick="spkRequestCookie(document.getElementById('spkListAuthHasResult2').value,() => {})">
                    </div>
                </div>
            </div>
        </div>
        <div class="uploadpage" id="postpublish">
            <h4>Video published to platforms and chains successfully. Some things to do next...</h4>
            <!-- Watch Video on DTube, 3Speak etc... -->
            <h3>Watch Video</h3>
            <div id="postpublishwatch" class="postpublishgrid"></div>
            <!-- Share Video -->
            <h3 style="display: inline-block;">Share Video</h3>
            <select class="meta" style="width: 150px;" id="postpublishsharetgpf">
                <option value="None">Select platform...</option>
                <option value="3Speak">3Speak</option>
                <option value="DTube">DTube</option>
            </select>
            <div id="postpublishshare">
                <a class="tooltip" onclick="postpublishshare('dbuzz')"><img src="public/share/dbuzz.png" alt="share-dbuzz"><span class="tooltiptext tooltipshare">DBuzz</span></a>
                <a class="tooltip" onclick="postpublishshare('twitter')"><img src="public/share/twitter.png" alt="share-twitter"><span class="tooltiptext tooltipshare">Twitter</span></a>
                <a class="tooltip" onclick="postpublishshare('reddit')"><img src="public/share/reddit.png" alt="share-reddit"><span class="tooltiptext tooltipshare">Reddit</span></a>
                <a class="tooltip" onclick="postpublishshare('facebook')"><img src="public/share/facebook.png" alt="share-facebook"><span class="tooltiptext tooltipshare">Facebook</span></a>
                <a class="tooltip" onclick="postpublishshare('tumblr')"><img src="public/share/tumblr.png" alt="share-tumblr"><span class="tooltiptext tooltipshare">Tumblr</span></a>
                <a class="tooltip" onclick="postpublishshare('pinterest')"><img src="public/share/pinterest.png" alt="share-pinterest"><span class="tooltiptext tooltipshare">Pinterest</span></a>
                <a class="tooltip" onclick="postpublishshare('linkedin')"><img src="public/share/linkedin.png" alt="share-linkedin"><span class="tooltiptext tooltipshare">Linkedin</span></a>
                <a class="tooltip" onclick="postpublishshare('email')"><img src="public/share/email.png" alt="share-email"><span class="tooltiptext tooltipshare">Email</span></a>
            </div>
            <!-- Embed Video -->
            <h3>Embed Video</h3>
            <div id="postpublishembed" class="postpublishgrid"></div>
        </div>
        </div>
    </body>
</html>
